---

# [English](https://github.com/Electr0Whale/SharpCJK_Twilight-Menu/blob/main/README.md) | [‰∏≠Êñá](https://github.com/Electr0Whale/SharpCJK_Twilight-Menu/blob/main/README_Chinese.md)

---

## Sharp CJK Font Maker for TWiLight Menu++

This project provides tools to create sharp, pixel-perfect CJK (Chinese, Japanese, Korean) fonts for **TWiLight Menu++**. It replaces the default blurry font rendering with high-contrast, 1:1 pixel alignment for better readability on NDS/3DS hardware.

[![Comparison of before and after results](https://github.com/Electr0Whale/SharpCJK_Twilight-Menu/blob/main/comparison.jpg "Comparison of before and after results")](https://github.com/Electr0Whale/SharpCJK_Twilight-Menu/blob/main/comparison.jpg "Comparison of before and after results")

> [!IMPORTANT]
> All Python scripts in this repository were collaboratively generated by **Gemini**.

### üìÇ Preparation

1. **Default Fonts**:
* Located at: `sd:/_nds/TWiLightMenu/extras/fonts/Default/`.
* You need `small.nftr` and `large.nftr` (copies available in the `default` folder).


2. **Character Map**:
* Use [nftr-editor | pk11.us](https://www.google.com/search?q=https://pk11.us/nftr-editor) to upload the `.nftr` and download the **JSON character map**.


3. **Required Tools**:
* Download [NFTRedit | GBAtemp.net](https://www.google.com/search?q=https://gbatemp.net/download/nftredit.36109/) for importing tiles.



### üõ†Ô∏è Workflow

1. **Generate BMP**: Run one of the Python scripts below to render your font into a BMP tileset using the JSON map.
2. **Import Tiles**: Open your `nftr` in **NFTRedit**, select `Import Tiles` -> `From Image`, and select your BMP.
3. **Adjust**: Preview the glyphs in the tool and make manual adjustments if needed.
4. **Deploy**: Save the `nftr` to `sd:/_nds/TWiLightMenu/extras/fonts/[FontName]/`.
5. **Switch**: Select your new font in the TWiLight Menu++ settings.

### üìú Script Catalog

| Script Name | Description |
| --- | --- |
| **`NFTR_Generator_Classic.py`** | The original version with global XY offset support. |
| **`NFTR_Generator_Centered.py`** | Automatically centers non-CJK characters horizontally within cells. |
| **`NFTR_Generator_DualFont.py`** | **(Recommended)** Supports Primary & Secondary font selection for max coverage. |
| **`NFTR_Generator_DualOffset.py`** | Advanced version with independent XY offsets for both fonts. |
| **`NFTR_Bitmap_Fixer.py`** | Standalone tool to fix color fringing from anti-aliasing (Optional). |

### ‚öôÔ∏è Configuration Guide

* **Cell Dimensions**:
* Small: `12 * 16`
* Large: `14 * 17`


* **Font Size**: Match this to your font's native pixel height (e.g., 12 or 13).
* **XY Offset**: Adjust to align with the font baseline. **Positive values** move text **Down/Right**.

### ‚öñÔ∏è Credits & Licensing

Includes BDF files from:

* **WenQuanYi (WQY) Bitmap Song**: Converted via pcf2bdf, licensed under **GPLv2**.
* **Fusion Pixel Font**: From [TakWolf/fusion-pixel-font](https://www.google.com/search?q=https://github.com/TakWolf/fusion-pixel-font), licensed under **SIL OFL v1.1**.

**Releases**:

* `wqy.7z`: Pure WenQuanYi font builds.
* `wqyfusion.7z`: Hybrid build (WQY as primary, Fusion as fallback).

---
